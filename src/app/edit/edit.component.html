<div class="container">
	<h3>{{course.fullName}}</h3>
	<h5>Textbooks you've added to this course already</h5>
	<ul class="collection">
		<li *ngFor="let textbook of courseService.textbooks" class="collection-item">

			<div *ngIf="editing!=textbook.key">
				<a href="{{textbook.link}}">{{ textbook.title }}</a>
				<a (click)="editing = textbook.key" class="clear-textbook secondary-content"><i class="material-icons">mode_edit</i></a>
				<a (click)="removeTextbook(textbook.key)" class="clear-textbook secondary-content red-text"><i class="material-icons">clear</i></a>
			</div>

			<div *ngIf="editing==textbook.key">
				<form (ngSubmit)="onSubmitEditTextbook(textbook.title)" #textbookEditForm="ngForm">
					<input type="text" [(ngModel)]="textbook.title" name="title" required>
					<button class="waves-effect waves-light btn-large purple lighten-1" type="submit" [disabled]="!textbookEditForm.form.valid">Save</button>
				</form>
				</div>
		</li>	
	</ul>
	<h6 *ngIf="!courseService.textbooks.length" class="blue-text lighten-2-text">Looks like you have no textbooks yet</h6>
	<h5>Add a new textbook</h5>
	<form (ngSubmit)="onSubmitTextbook()" #textbookForm="ngForm">
		<div class="row">
			<div class="input-field col s6">
				<input type="text" id="textbook-title" [(ngModel)]="textbookTitle" name="title" required>
				<label for="textbook-title">Textbook Title</label>
			</div>
		</div>
		<div class="row" [formGroup]="textbookLinkChoices">
			<div class="col s12 m3">
				<input class="with-gap" name="group1" type="radio" id="test1" checked [(ngModel)]="textbookUpload" value="false" />
		    <label for="test1">Enter URL to textbook</label>
	    </div>
	    <div class="col s12 m3">
		    <input class="with-gap" name="group1" type="radio" id="test2" [(ngModel)]="textbookUpload" value="true" />
		    <label for="test2">Upload the textbook</label>
	    </div>
    </div>
		<div class="row">
			<!-- <h6 class="center-align">Choose source of textbook (URL or file)</h6> -->
			<div *ngIf="!textbookUpload" class="input-field col s12 m6 right-border">
				<label for="textbook-url">URL to Textbook</label>
				<input type="url" pattern="https?://.+" id="textbook-url" class="form-control" [(ngModel)]="textbookLink" name="link" #link="ngModel" [disabled]="textbookFile != null">
				<div *ngIf="!link.valid && (link.dirty || link.touched)" class="chip red darken-3 white-text">
					Invalid URL
				</div>
			</div>
			<div *ngIf="textbookUpload" class="col s12 m6 file-field input-field">
				<div class="btn">
	        <span>Browse...</span>
	        <input type="file" (change)="textbookFileChange($event)" placeholder="Upload file..." [disabled]="textbookLink != ''">
	      </div>
	      <div class="file-path-wrapper">
        	<input class="file-path validate" type="text">
      	</div>
      </div>
		</div>
		<div class="row">
			<button class="waves-effect waves-light btn-large purple lighten-1" type="submit" [disabled]="!textbookForm.form.valid && (textbookLink == ''||textbookTitle == '')">Add Textbook</button>
		</div>
	</form>
</div>